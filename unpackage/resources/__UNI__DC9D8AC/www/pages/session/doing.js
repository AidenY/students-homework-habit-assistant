"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var y=Object.create;var w=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var B=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var L=(t,r,o,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of D(r))!I.call(t,s)&&s!==o&&w(t,s,{get:()=>r[s],enumerable:!(n=C(r,s))||n.enumerable});return t};var z=(t,r,o)=>(o=t!=null?y(R(t)):{},L(r||!t||!t.__esModule?w(o,"default",{value:t,enumerable:!0}):o,t));var u=(t,r,o)=>new Promise((n,s)=>{var i=d=>{try{l(o.next(d))}catch(f){s(f)}},a=d=>{try{l(o.throw(d))}catch(f){s(f)}},l=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,a);l((o=o.apply(t,r)).next())});var v=B((V,S)=>{S.exports=Vue});var e=z(v());function c(t,r,...o){uni.__log__?uni.__log__(t,r,...o):console[t].apply(console,[...o,r])}var p=null;function x(t){let r=Math.floor(Math.random()*t.length);return t[r]}function P({intervalMs:t=3e3,onResult:r}){g(),p=setInterval(()=>{let o=Date.now(),n=x(["good","good","good","bend","lie","leave"]),s=x(["focus","focus","focus","distract"]),i=x(["writing","writing","thinking","idle"]);typeof r=="function"&&r({timestamp:o,postureState:n,focusState:s,taskState:i,triggeredReminders:[]})},t)}function g(){p&&(clearInterval(p),p=null)}function k(t){if(!t||t<=0)return"00:00";let r=Math.floor(t/1e3),o=Math.floor(r/3600),n=Math.floor(r%3600/60),s=r%60,i=a=>a<10?"0"+a:""+a;return o>0?`${i(o)}:${i(n)}:${i(s)}`:`${i(n)}:${i(s)}`}var M=["\u5C0F\u670B\u53CB\u5750\u76F4\u4E00\u70B9\uFF0C\u80A9\u8180\u653E\u677E\uFF0C\u6211\u4EEC\u4E00\u8D77\u4FDD\u62A4\u810A\u6881\u9AA8\uFF5E","\u8EAB\u4F53\u4E0D\u8981\u592A\u8D34\u8FD1\u4E66\u672C\uFF0C\u773C\u775B\u548C\u4E66\u672C\u8981\u4FDD\u6301\u4E00\u5C3A\u7684\u8DDD\u79BB\u54E6\u3002","\u8BB0\u5F97\u4E24\u53EA\u811A\u5E73\u653E\u5728\u5730\u4E0A\uFF0C\u50CF\u4E00\u68F5\u5C0F\u6811\u4E00\u6837\u7AD9\u5F97\u7A33\u3002"],_=["\u521A\u521A\u6709\u70B9\u8D70\u795E\u4E86\uFF0C\u6211\u4EEC\u4E00\u8D77\u628A\u6CE8\u610F\u529B\u62C9\u56DE\u6765\u5427\uFF5E","\u5148\u628A\u8FD9\u9053\u9898\u8BA4\u771F\u5B8C\u6210\uFF0C\u518D\u60F3\u522B\u7684\u4E8B\u60C5\u4E5F\u4E0D\u8FDF\u3002","\u518D\u575A\u6301\u51E0\u5206\u949F\uFF0C\u4F60\u4ECA\u5929\u5C31\u4F1A\u6BD4\u6628\u5929\u66F4\u68D2\uFF01"],E=["\u5982\u679C\u4E00\u9053\u9898\u5361\u4F4F\u592A\u4E45\uFF0C\u53EF\u4EE5\u5148\u505A\u540E\u9762\u7684\uFF0C\u518D\u56DE\u6765\u89E3\u51B3\u5B83\u3002","\u5148\u5B8C\u6210\u7B80\u5355\u7684\u9898\u76EE\uFF0C\u7ED9\u81EA\u5DF1\u4E00\u70B9\u5C0F\u5C0F\u7684\u6210\u5C31\u611F\uFF5E"];function h(t){let r=Math.floor(Math.random()*t.length);return t[r]}function T(t,r){return u(this,null,function*(){let o=r;o||(t==="posture"?o=h(M):t==="focus"?o=h(_):o=h(E));try{uni.showToast({title:o.length>7?o.slice(0,7)+"...":o,icon:"none",duration:2e3}),uni.vibrateShort&&uni.vibrateShort({})}catch(n){c("warn","at common/voiceReminder.js:30","playReminder toast error",n)}return o})}var N={page:{"":{flex:1,backgroundColor:"#f3f7ff",paddingLeft:"16rpx",paddingRight:"16rpx",paddingTop:"16rpx",paddingBottom:"140rpx"}},"top-card":{"":{backgroundColor:"#ffffff",borderRadius:"24rpx",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx",marginBottom:"16rpx"}},"time-row":{"":{flexDirection:"row",justifyContent:"space-between",marginBottom:"12rpx"}},"time-block":{"":{flex:1}},"time-label":{"":{fontSize:"24rpx",color:"#555555"}},"time-value":{"":{fontSize:"34rpx",fontWeight:"600",color:"#2c405a",marginTop:"4rpx"}},"progress-bar":{"":{height:"14rpx",borderRadius:"7rpx",backgroundColor:"#f0f3fa",overflow:"hidden"}},"progress-inner":{"":{height:"14rpx",borderRadius:"7rpx",backgroundColor:"#4ba3ff"}},"camera-card":{"":{marginTop:"12rpx",marginBottom:"16rpx",borderRadius:"24rpx",backgroundColor:"#ffffff",overflow:"hidden"}},"camera-view":{"":{width:100,height:"260rpx",backgroundColor:"#000000"}},"camera-overlay":{"":{paddingTop:"16rpx",paddingRight:"20rpx",paddingBottom:"18rpx",paddingLeft:"20rpx"}},"camera-title":{"":{fontSize:"30rpx",fontWeight:"600",color:"#2c405a",marginBottom:"6rpx"}},"camera-subtitle":{"":{fontSize:"24rpx",color:"#555555"}},"switch-row":{"":{marginTop:"10rpx"}},"camera-tip":{"":{fontSize:"22rpx",color:"#888888",marginBottom:"6rpx"}},"switch-btn":{"":{alignSelf:"flex-start",paddingLeft:"22rpx",paddingRight:"22rpx",paddingTop:"8rpx",paddingBottom:"8rpx",borderRadius:"32rpx",backgroundColor:"#e6f1ff"}},"switch-text":{"":{fontSize:"24rpx",color:"#2f80ff"}},"debug-panel":{"":{marginTop:"12rpx",paddingTop:"12rpx",paddingRight:"12rpx",paddingBottom:"12rpx",paddingLeft:"12rpx",backgroundColor:"#fff3cd",borderRadius:"8rpx",borderWidth:"1rpx",borderColor:"#ffc107"}},"debug-title":{"":{fontSize:"26rpx",fontWeight:"600",color:"#856404",marginBottom:"8rpx"}},"debug-item":{"":{fontSize:"22rpx",color:"#856404",marginBottom:"4rpx",lines:3}},"debug-error":{"":{color:"#dc3545"}},"debug-btn-row":{"":{flexDirection:"row",marginTop:"8rpx",justifyContent:"space-between"}},"debug-btn":{"":{flex:1,marginRight:"8rpx",paddingTop:"6rpx",paddingRight:"12rpx",paddingBottom:"6rpx",paddingLeft:"12rpx",backgroundColor:"#ffc107",borderRadius:"6rpx",alignItems:"center",justifyContent:"center","marginRight:last-child":0}},"debug-btn-text":{"":{fontSize:"22rpx",color:"#856404"}},"debug-toggle":{"":{marginTop:"8rpx",alignItems:"center"}},"debug-toggle-btn":{"":{paddingTop:"6rpx",paddingRight:"16rpx",paddingBottom:"6rpx",paddingLeft:"16rpx",backgroundColor:"#e6f1ff",borderRadius:"6rpx"}},"debug-toggle-text":{"":{fontSize:"22rpx",color:"#2f80ff"}},"status-row":{"":{flexDirection:"row",justifyContent:"space-between",marginBottom:"8rpx"}},"status-card":{"":{flex:1,marginRight:"8rpx",borderRadius:"20rpx",paddingTop:"14rpx",paddingRight:"16rpx",paddingBottom:"14rpx",paddingLeft:"16rpx",backgroundColor:"#f5f7fb","marginRight:last-child":0}},"status-label":{"":{fontSize:"24rpx",color:"#555555"}},"status-value":{"":{fontSize:"28rpx",fontWeight:"600",marginTop:"4rpx"},".status-good ":{color:"#2f9b59"},".status-focus ":{color:"#2f9b59"},".status-bend ":{color:"#f0ad4e"},".status-distract ":{color:"#f0ad4e"},".status-idle ":{color:"#f0ad4e"},".status-lie ":{color:"#dd524d"},".status-leave ":{color:"#dd524d"}},encourage:{"":{marginTop:"4rpx",marginBottom:"8rpx"}},"encourage-text":{"":{fontSize:"26rpx",color:"#2f9b59"}},"reminder-card":{"":{borderRadius:"24rpx",backgroundColor:"#ffffff",paddingTop:"18rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx",marginBottom:"8rpx"}},"reminder-header":{"":{flexDirection:"row",justifyContent:"space-between",marginBottom:"8rpx"}},"reminder-title":{"":{fontSize:"28rpx",fontWeight:"600",color:"#2c405a"}},"reminder-count":{"":{fontSize:"24rpx",color:"#555555"}},"reminder-content":{"":{flexDirection:"row",alignItems:"center"}},"reminder-icon":{"":{fontSize:"30rpx",marginRight:"6rpx"}},"reminder-text":{"":{fontSize:"26rpx",color:"#3f536e"}},"reminder-empty":{"":{fontSize:"26rpx",color:"#3f536e"}},"bottom-area":{"":{position:"fixed",left:0,right:0,bottom:"40rpx",paddingLeft:"32rpx",paddingRight:"32rpx"}},"danger-btn":{"":{height:"88rpx",borderRadius:"44rpx",backgroundColor:"#ff6b6b",alignItems:"center",justifyContent:"center"}},"danger-text":{"":{fontSize:"32rpx",color:"#ffffff"}}},A=(t,r)=>{let o=t.__vccOpts||t;for(let[n,s]of r)o[n]=s;return o},q={data(){return{startTime:0,expectedDuration:0,now:Date.now(),timer:null,snapshots:[],reminders:[],lastReminderText:"",reminderCount:0,postureState:"good",focusState:"focus",taskState:"writing",badStreak:0,devicePosition:"front",showDebugInfo:!1,permissionStatus:"\u672A\u77E5",cameraStatus:"\u672A\u77E5",cameraError:"",cameraErrorDetail:""}},computed:{elapsedText(){return k(this.now-this.startTime)},expectedText(){return k(this.expectedDuration)},progressPercent(){if(!this.expectedDuration)return 0;let t=(this.now-this.startTime)/this.expectedDuration,r=Math.floor(t*100);return r<0&&(r=0),r>100&&(r=100),r},postureLabel(){return{good:"\u5750\u59FF\u7AEF\u6B63",bend:"\u6709\u70B9\u8DB4\u684C",lie:"\u51E0\u4E4E\u8DB4\u4E0B\u4E86",leave:"\u79BB\u5F00\u5EA7\u4F4D"}[this.postureState]||"\u5750\u59FF\u7AEF\u6B63"},focusLabel(){return{focus:"\u5F88\u4E13\u5FC3",distract:"\u6709\u70B9\u8D70\u795E"}[this.focusState]||"\u5F88\u4E13\u5FC3"},taskLabel(){return{writing:"\u6B63\u5728\u4E66\u5199",thinking:"\u5728\u601D\u8003",idle:"\u5728\u53D1\u5446"}[this.taskState]||"\u6B63\u5728\u4E66\u5199"},encourageText(){return this.postureState==="good"&&this.focusState==="focus"?"\u73B0\u5728\u7684\u72B6\u6001\u5F88\u68D2\uFF0C\u7EE7\u7EED\u4FDD\u6301\u54E6\uFF01":""}},created(){let t=this.$route&&this.$route.query?this.$route.query:{};this.startTime=Number(t.startTime)||Date.now(),this.expectedDuration=Number(t.expectedDuration)||30*60*1e3},onShow(){this.startTime=this.startTime||Date.now(),this.requestCameraPermission(),this.startTimers(),this.startDetection()},onHide(){this.clearTimers(),g()},beforeDestroy(){this.clearTimers(),g()},methods:{startTimers(){this.now=Date.now(),this.timer=setInterval(()=>{this.now=Date.now()},1e3)},clearTimers(){this.timer&&(clearInterval(this.timer),this.timer=null)},startDetection(){P({intervalMs:3e3,onResult:t=>{this.snapshots.push(t),this.postureState=t.postureState,this.focusState=t.focusState,this.taskState=t.taskState,t.postureState!=="good"||t.focusState!=="focus"?this.badStreak+=1:this.badStreak=0,this.badStreak>=2&&(this.triggerReminder(t),this.badStreak=0)}})},triggerReminder(t){return u(this,null,function*(){let r=t.postureState!=="good"?"posture":"focus",o=yield T(r);this.lastReminderText=o,this.reminderCount+=1,this.reminders.push({timestamp:Date.now(),type:r,text:o})})},replayLastReminder(){return u(this,null,function*(){this.lastReminderText&&(yield T("repeat",this.lastReminderText))})},switchCamera(){this.devicePosition=this.devicePosition==="front"?"back":"front"},endSession(){let t=Date.now();g(),this.clearTimers();let r={startTime:this.startTime,endTime:t,expectedDuration:this.expectedDuration,snapshots:this.snapshots,reminders:this.reminders};uni.navigateTo({url:"/pages/session/report",success:o=>{o.eventChannel&&o.eventChannel.emit("sessionFinished",r)}})},requestCameraPermission(){try{this.permissionStatus="\u8BF7\u6C42\u4E2D...",plus.android.requestPermissions(["android.permission.CAMERA"],t=>{t.granted&&t.granted.length>0?(this.permissionStatus="\u5DF2\u6388\u4E88",c("log","at pages/session/doing.nvue:290","nvue \u6444\u50CF\u5934\u6743\u9650\u5DF2\u6388\u4E88",t)):(this.permissionStatus="\u88AB\u62D2\u7EDD",c("log","at pages/session/doing.nvue:293","nvue \u6444\u50CF\u5934\u6743\u9650\u88AB\u62D2\u7EDD",t))},t=>{this.permissionStatus="\u8BF7\u6C42\u5931\u8D25: "+JSON.stringify(t),c("log","at pages/session/doing.nvue:298","nvue \u6444\u50CF\u5934\u6743\u9650\u8BF7\u6C42\u5931\u8D25: "+JSON.stringify(t)),uni.showToast({title:"\u672A\u6388\u4E88\u6444\u50CF\u5934\u6743\u9650\uFF0C\u65E0\u6CD5\u9884\u89C8\u753B\u9762",icon:"none",duration:3e3})})}catch(t){this.permissionStatus="\u5F02\u5E38: "+t.toString(),c("log","at pages/session/doing.nvue:308","nvue \u6444\u50CF\u5934\u6743\u9650\u8BF7\u6C42\u5F02\u5E38: "+t)}},onCameraError(t){c("log","at pages/session/doing.nvue:313","camera error",t);let r=t.detail?JSON.stringify(t.detail):JSON.stringify(t);this.cameraError=r,this.cameraStatus="\u9519\u8BEF",this.cameraErrorDetail=`\u9519\u8BEF\u7C7B\u578B: ${t.type||"unknown"}, \u9519\u8BEF\u7801: ${t.code||"N/A"}`,uni.showToast({title:"\u6444\u50CF\u5934\u9519\u8BEF\uFF0C\u8BF7\u67E5\u770B\u8C03\u8BD5\u4FE1\u606F",icon:"none",duration:3e3}),this.showDebugInfo||(this.showDebugInfo=!0)},onCameraInitDone(t){c("log","at pages/session/doing.nvue:331","camera init done",t),this.cameraStatus="\u521D\u59CB\u5316\u5B8C\u6210",t.detail&&c("log","at pages/session/doing.nvue:334","camera init detail",t.detail)},toggleDebugInfo(){this.showDebugInfo=!this.showDebugInfo},checkCameraStatus(){try{let t=plus.android.runtimeMainActivity(),r=plus.android.invoke(t,"getPackageManager"),o=plus.android.invoke(r,"hasSystemFeature","android.hardware.camera");this.cameraStatus=`\u8BBE\u5907\u652F\u6301\u6444\u50CF\u5934: ${o?"\u662F":"\u5426"}`;let n=plus.android.importClass("android.content.Context"),s=plus.android.importClass("android.content.pm.PackageManager"),l=plus.android.invoke(t,"checkSelfPermission","android.permission.CAMERA")===s.PERMISSION_GRANTED;this.permissionStatus=`\u6743\u9650\u68C0\u67E5: ${l?"\u5DF2\u6388\u4E88":"\u672A\u6388\u4E88"}`}catch(t){this.cameraStatus="\u68C0\u67E5\u5931\u8D25: "+t.toString(),c("log","at pages/session/doing.nvue:357","\u68C0\u67E5\u6444\u50CF\u5934\u72B6\u6001\u5931\u8D25",t)}}}};function W(t,r,o,n,s,i){return(0,e.openBlock)(),(0,e.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,e.createElementVNode)("view",{class:"page doing-page"},[(0,e.createElementVNode)("view",{class:"top-card"},[(0,e.createElementVNode)("view",{class:"time-row"},[(0,e.createElementVNode)("view",{class:"time-block"},[(0,e.createElementVNode)("u-text",{class:"time-label"},"\u5DF2\u7528\u65F6\u95F4"),(0,e.createElementVNode)("u-text",{class:"time-value"},(0,e.toDisplayString)(i.elapsedText),1)]),(0,e.createElementVNode)("view",{class:"time-block"},[(0,e.createElementVNode)("u-text",{class:"time-label"},"\u9884\u8BA1"),(0,e.createElementVNode)("u-text",{class:"time-value"},(0,e.toDisplayString)(i.expectedText),1)])]),(0,e.createElementVNode)("view",{class:"progress-bar"},[(0,e.createElementVNode)("view",{class:"progress-inner",style:(0,e.normalizeStyle)({width:i.progressPercent+"%"})},null,4)])]),(0,e.createElementVNode)("view",{class:"camera-card"},[(0,e.createElementVNode)("camera",{class:"camera-view",mode:"normal",devicePosition:s.devicePosition,flash:"off",onError:r[0]||(r[0]=(...a)=>i.onCameraError&&i.onCameraError(...a)),onInitdone:r[1]||(r[1]=(...a)=>i.onCameraInitDone&&i.onCameraInitDone(...a))},null,40,["devicePosition"]),(0,e.createElementVNode)("view",{class:"camera-overlay"},[(0,e.createElementVNode)("u-text",{class:"camera-title"},"\u5B9E\u65F6\u6444\u50CF\u5934\u9884\u89C8"),(0,e.createElementVNode)("u-text",{class:"camera-subtitle"}," \u5F53\u524D\u4F7F\u7528\uFF1A"+(0,e.toDisplayString)(s.devicePosition==="front"?"\u524D\u7F6E\u6444\u50CF\u5934":"\u540E\u7F6E\u6444\u50CF\u5934"),1),(0,e.createElementVNode)("view",{class:"switch-row"},[(0,e.createElementVNode)("u-text",{class:"camera-tip"},"\u4FDD\u6301\u8138\u90E8\u51FA\u73B0\u5728\u753B\u9762\u4E2D\u95F4\uFF0C\u66F4\u5BB9\u6613\u8BC6\u522B\u59FF\u6001\uFF5E"),(0,e.createElementVNode)("view",{class:"switch-btn",onClick:r[2]||(r[2]=(...a)=>i.switchCamera&&i.switchCamera(...a))},[(0,e.createElementVNode)("u-text",{class:"switch-text"}," \u5207\u6362\u4E3A"+(0,e.toDisplayString)(s.devicePosition==="front"?"\u540E\u7F6E":"\u524D\u7F6E")+"\u6444\u50CF\u5934 ",1)])])]),s.showDebugInfo?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"debug-panel"},[(0,e.createElementVNode)("u-text",{class:"debug-title"},"\u8C03\u8BD5\u4FE1\u606F"),(0,e.createElementVNode)("u-text",{class:"debug-item"},"\u6743\u9650\u72B6\u6001: "+(0,e.toDisplayString)(s.permissionStatus),1),(0,e.createElementVNode)("u-text",{class:"debug-item"},"\u6444\u50CF\u5934\u72B6\u6001: "+(0,e.toDisplayString)(s.cameraStatus),1),s.cameraError?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:0,class:"debug-item debug-error"},"\u9519\u8BEF\u4FE1\u606F: "+(0,e.toDisplayString)(s.cameraError),1)):(0,e.createCommentVNode)("",!0),s.cameraErrorDetail?((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{key:1,class:"debug-item debug-error"},"\u9519\u8BEF\u8BE6\u60C5: "+(0,e.toDisplayString)(s.cameraErrorDetail),1)):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("view",{class:"debug-btn-row"},[(0,e.createElementVNode)("view",{class:"debug-btn",onClick:r[3]||(r[3]=(...a)=>i.toggleDebugInfo&&i.toggleDebugInfo(...a))},[(0,e.createElementVNode)("u-text",{class:"debug-btn-text"},"\u9690\u85CF\u8C03\u8BD5")]),(0,e.createElementVNode)("view",{class:"debug-btn",onClick:r[4]||(r[4]=(...a)=>i.checkCameraStatus&&i.checkCameraStatus(...a))},[(0,e.createElementVNode)("u-text",{class:"debug-btn-text"},"\u68C0\u67E5\u72B6\u6001")])])])):((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:1,class:"debug-toggle"},[(0,e.createElementVNode)("view",{class:"debug-toggle-btn",onClick:r[5]||(r[5]=(...a)=>i.toggleDebugInfo&&i.toggleDebugInfo(...a))},[(0,e.createElementVNode)("u-text",{class:"debug-toggle-text"},"\u663E\u793A\u8C03\u8BD5\u4FE1\u606F")])]))]),(0,e.createElementVNode)("view",{class:"status-row"},[(0,e.createElementVNode)("view",{class:(0,e.normalizeClass)(["status-card","status-"+s.postureState])},[(0,e.createElementVNode)("u-text",{class:"status-label"},"\u5750\u59FF"),(0,e.createElementVNode)("u-text",{class:"status-value"},(0,e.toDisplayString)(i.postureLabel),1)],2),(0,e.createElementVNode)("view",{class:(0,e.normalizeClass)(["status-card","status-"+s.focusState])},[(0,e.createElementVNode)("u-text",{class:"status-label"},"\u4E13\u6CE8"),(0,e.createElementVNode)("u-text",{class:"status-value"},(0,e.toDisplayString)(i.focusLabel),1)],2),(0,e.createElementVNode)("view",{class:(0,e.normalizeClass)(["status-card","status-"+s.taskState])},[(0,e.createElementVNode)("u-text",{class:"status-label"},"\u72B6\u6001"),(0,e.createElementVNode)("u-text",{class:"status-value"},(0,e.toDisplayString)(i.taskLabel),1)],2)]),i.encourageText?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"encourage"},[(0,e.createElementVNode)("u-text",{class:"encourage-text"},(0,e.toDisplayString)(i.encourageText),1)])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("view",{class:"reminder-card"},[(0,e.createElementVNode)("view",{class:"reminder-header"},[(0,e.createElementVNode)("u-text",{class:"reminder-title"},"\u6700\u8FD1\u63D0\u9192"),(0,e.createElementVNode)("u-text",{class:"reminder-count"},"\u5171 "+(0,e.toDisplayString)(s.reminderCount)+" \u6B21",1)]),s.lastReminderText?((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:0,class:"reminder-content",onClick:r[6]||(r[6]=(...a)=>i.replayLastReminder&&i.replayLastReminder(...a))},[(0,e.createElementVNode)("u-text",{class:"reminder-icon"},"\u{1F514}"),(0,e.createElementVNode)("u-text",{class:"reminder-text"},(0,e.toDisplayString)(s.lastReminderText),1)])):((0,e.openBlock)(),(0,e.createElementBlock)("view",{key:1,class:"reminder-empty"},[(0,e.createElementVNode)("u-text",{class:"reminder-text"},"\u5F53\u524D\u8868\u73B0\u4E0D\u9519\uFF0C\u7EE7\u7EED\u4FDD\u6301\uFF5E")]))]),(0,e.createElementVNode)("view",{class:"bottom-area"},[(0,e.createElementVNode)("view",{class:"danger-btn",onClick:r[7]||(r[7]=(...a)=>i.endSession&&i.endSession(...a))},[(0,e.createElementVNode)("u-text",{class:"danger-text"},"\u7ED3\u675F\u4F5C\u4E1A")])])])])}var m=A(q,[["render",W],["styles",[N]]]);var b=plus.webview.currentWebview();if(b){let t=parseInt(b.id),r="pages/session/doing",o={};try{o=JSON.parse(b.__query__)}catch(s){}m.mpType="page";let n=Vue.createPageApp(m,{$store:getApp({allowDefault:!0}).$store,__pageId:t,__pagePath:r,__pageQuery:o});n.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...m.styles||[]])),n.mount("#root")}})();
